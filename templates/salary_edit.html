{% extends "layout.html" %}
{% block content %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-7">

      <div class="card my-4">
        <div class="card-header bg-primary text-white fw-bold">Edit Salary</div>
        <div class="card-body">
          <form method="post">
            <!-- Teacher select -->
            <div class="mb-3">
              <label class="form-label">Teacher</label>
              <select name="teacher_id" class="form-control" required>
                {% for t in teachers %}
                  <option value="{{ t._id }}" {% if t._id == salary.teacher_id %}selected{% endif %}>{{ t.name }} (â‚¹{{ '%.2f' % t.hourly_rate }}/hr)</option>
                {% endfor %}
              </select>
            </div>

            <!-- Month -->
            <div class="mb-3">
              <label class="form-label">Month</label>
              <input type="month" name="month" class="form-control" value="{{ salary.month_str }}" required>
            </div>

            <!-- Total Hours -->
            <div class="mb-3">
              <label class="form-label">Total Hours</label>
              <input type="number" step="0.25" min="0" name="total_hours" class="form-control" value="{{ salary.total_hours }}">
            </div>

            <!-- Hourly Rate -->
            <div class="mb-3">
              <label class="form-label">Hourly Rate</label>
              <input type="number" step="0.01" min="0" name="hourly_rate" class="form-control" value="{{ salary.hourly_rate }}">
            </div>

            <div class="form-check mb-3">
              <input class="form-check-input" type="checkbox" id="manual_entry" name="manual_entry" {% if salary.manual_entry %}checked{% endif %}>
              <label class="form-check-label" for="manual_entry">Manual Entry</label>
            </div>

            <button class="btn btn-primary">Save Changes</button>
            <a href="{{ url_for('salary_list') }}" class="btn btn-secondary">Cancel</a>
          </form>
        </div>
      </div>

    </div>
  </div>
</div>
{% endblock %}
